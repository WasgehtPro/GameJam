[gd_scene load_steps=6 format=3 uid="uid://bmt1aict1k0h8"]

[ext_resource type="Texture2D" uid="uid://cs7ot8norqy2f" path="res://Player/Player.png" id="1_l0e7v"]
[ext_resource type="Texture2D" uid="uid://o5apaqd5uo82" path="res://LightMasks/StandartCone.png" id="3_8sk5g"]
[ext_resource type="Texture2D" uid="uid://cwfgiaku17qwe" path="res://LightMasks/StandartCircle.png" id="4_7jmii"]

[sub_resource type="GDScript" id="GDScript_5151p"]
script/source = "extends CharacterBody2D


var speed = 300.0
var slowDown = speed * 0.2

# Get the gravity from the project settings to be synced with RigidBody nodes.
var gravity = ProjectSettings.get_setting(\"physics/2d/default_gravity\")


func _physics_process(delta):
	
	look_at(get_global_mouse_position())
	
	# Get the input direction and handle the movement/deceleration.
	var direction = Vector2(Input.get_axis(\"Left\", \"Right\"), Input.get_axis(\"Up\", \"Down\"))
	
	if direction:
		if direction.length() > 1:
			direction = direction.normalized()
		velocity = direction * speed * delta * 50
	else:
		velocity = Vector2(move_toward(velocity.x, 0, slowDown), move_toward(velocity.y, 0, slowDown))
	
	move_and_slide()
"

[sub_resource type="CircleShape2D" id="CircleShape2D_axj04"]
radius = 17.0

[node name="Player" type="CharacterBody2D"]
texture_filter = 1
script = SubResource("GDScript_5151p")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_axj04")

[node name="Sprite2D" type="Sprite2D" parent="."]
light_mask = 4
texture_filter = 1
texture = ExtResource("1_l0e7v")

[node name="Camera2D" type="Camera2D" parent="."]
rotation = -1.5708
zoom = Vector2(2, 2)
position_smoothing_enabled = true

[node name="PointLight2D" type="PointLight2D" parent="."]
shadow_enabled = true
texture = ExtResource("4_7jmii")
texture_scale = 0.5

[node name="PointLight2D2" type="PointLight2D" parent="."]
blend_mode = 2
range_item_cull_mask = 2
shadow_enabled = true
shadow_item_cull_mask = 2
texture = ExtResource("4_7jmii")
texture_scale = 0.5

[node name="PointLight2D3" type="PointLight2D" parent="."]
shadow_enabled = true
texture = ExtResource("3_8sk5g")
texture_scale = 2.0

[node name="PointLight2D4" type="PointLight2D" parent="."]
blend_mode = 2
range_item_cull_mask = 2
shadow_enabled = true
shadow_item_cull_mask = 2
texture = ExtResource("3_8sk5g")
texture_scale = 2.0
